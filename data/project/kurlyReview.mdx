---
title: Purple-review
description: 블로그 만들면서 느꼈던 점
thumbnailImg: https://velog.velcdn.com/images/otterp/post/4dc7e713-9add-440f-b762-c64f5664bc7b/image.png
---

## 마켓컬리 해커톤, 컬리만을 위한 키워드 리뷰시스템 purple-review

2022, 마켓컬리 해커톤에 지원한 컬리만을 위한 키워드 리뷰 시스템 제안
![](https://velog.velcdn.com/images/otterp/post/79ea1e73-e266-4586-aaa0-036d9aac57c0/image.png)
![](https://velog.velcdn.com/images/otterp/post/4dc7e713-9add-440f-b762-c64f5664bc7b/image.png)

[github](https://github.com/U-jjin/kurly-hackfesta-purplereview)
[배포사이트](http://otter22.s3-website.ap-northeast-2.amazonaws.com/)

(현재, 어드민 사이트는 배포되어있지 않습니다.)

- TypeScript, React, Next, tailwindCss, Recoil
- 2022.08.
- 팀원: 안유진(BE), 송재현(기획), 손정호(FE)

## 모두가 하나의 목표를 향해 달려간다는 것

마켓컬리 해커톤을 하면서, 가장 기억에 남았던 부분은 팀원 모두가 해커톤이라는 공동의 목표를 달성하기 위해 최선을 다해 노력하고 있다는 점이었습니다. 사실 단시간동안 이루어지는 해커톤의 기간 동안 피곤하기도 하였고 개발해야하는 ui는 너무 많아보였고 때로는 내가 이걸 할 수 있을까? 그런 고민도 들었습니다. 그런데, 재미있었습니다. 서버개발자분은 rest api를 만들고 계시느라 정신없었고 기획자 분은 기획을 마무리하고 저희의 로직을 조금 더 잘 표현할 수 있도록 노력하고 계셨습니다. 이러한 사이에서, 프론트엔드 개발자로서 저는 다음과 같은 부분에 집중했습니다.

---

## 사용자가 편하게 리뷰를 작성하려면 어떻게 해야하나요?

이번 해커톤에서 저희의 주제는 기존 마켓컬리의 사이트에 사용자들이 클릭만으로 작성할 수 있는 리뷰시스템을 도입하는 것이었는데요. 사실 리뷰시스템은 여러가지 사이트에서 접할 수 있지만, 사용자의 편의를 위해 리뷰시스템을 어떻게 보여주고 어떤 지점에서 리뷰를 할 수 있도록 할지에 대해 고민하였습니다. 이를 위해 고민했던 부분은 다음과 같았는데요. 기본적인 만족도 별점에서 상세한 리뷰를 추가적으로 작성하고자 할 때 동일한 페이지에서 작성할 수 있도록 하였습니다. 또한, 상세한 리뷰의 경우 어떻게 보면 개인적인 질문이 추가되기 때문에 리뷰를 중간에 중단할 수 있는 기능과 리뷰를 중간 상태에서 그대로 제출할 수 있는 기능을 팀원들과의 협의 하에 추가했습니다.

---

## NextJs, tailwindCss

단순히 새로운 기술을 익히고 있음을 보여주고자 사용한 것은 아니었습니다. 얼마전 개인 블로그 만들기 프로젝트를 진행하면서 어느정도 정적 페이지를 구현하는 부분에 익숙해져있었고, 또 next를 사용함으로써 얻을 수 있는 장점들을 배울 수 있었습니다. 이번 페이지에서는 한 페이지로 이루어지는 것이 아닌 페이지의 분기처리가 이루어질 텐데 그러한 과정에서 next를 통한 라우팅이 훨씬 간편할 수 있다는 생각이 들었습니다. 또한 ssg로 렌더링된 사이트가 다양한 이미지를 불러와야 할 때에 페치가 이미 진행되었으므로 조금 더 빠를 수 있다는 생각이 들었습니다. 따라서, 이를 보는 사람들에게 좋은 사용자 경험을 줄 수 있을 것이라 생각했습니다.

tailwindCss를 사용한 이유는, 해커톤의 특성상 각기 컴포넌트의 재사용성에 보다는 빠른 구현에 집중하고자 하였기 때문입니다. 또한, tailwindcss는 모바일퍼스트로 모바일단위 화면을 우선적으로 구현하려고 했던 이번 프로젝트와 잘 맞았습니다. 이번 해커톤의 주된 페이지인 소비자들의 리뷰를 모아 보여주는 페이지는 모바일 기반으로 만들고자 하였기 때문입니다.

---

## usereducer 로직을 recoil로 수정하게 된 이야기

이번 프로젝트의 핵심은 리뷰한 데이터들을 모아서, 서버로 잘 전달하는 부분이었는데요. 리뷰의 경우 크게 세가지 컴포넌트로 나누어져 있었습니다. 기본적인 만족도 컴포넌트와, 배송 만족도 컴포넌트 또 상세한 리뷰 컴포넌트였습니다. 재사용이 가능한 컴포넌트로 만들기 어려운 부분이라 생각해 개별적으로 컴포넌트를 만들었고, 이에 리뷰에 대한 답변 데이터를 한 컴포넌트로 모았어야 했는데요. 처음에 이 부분을 `useRedeucer` 를 사용해서 쉽게 할 수 있을 것이라 생각했습니다. 그런데, 컴포넌트를 너무 세세하게 나누어 놓아 각 `form` 컴포넌트들이 하위단계로 내려가야 하는 상황이 생겼습니다. 결과적으로 `page` 단위 컴포넌트에서, `form` 컴포넌트로 `form` 컴포넌트 하위에 있는 예를 들면 `star` 컴포넌트에 데이터를 올리고 내려야 하는 상황이 생겼었는데요. 사실 구현적으로는 살짝 복잡해보였지만 문제가 없었습니다.

그런데, 살짝의 복잡함이 보이는 순가에 이 코드를 보는 사람이 과연 이런 코드를 읽기 편할까? 라는 고민이 들었습니다. 어떻게 보면 쉽고 가독성 좋게 해결될 수 있는 부분이, `reducer` 로 내리는 로직과 이에 대한 타입 지정, 그리고 `props` 로 상위 컴포넌트로 데이터를 끌어올리는 함수를 내려주어야 했습니다. 그래서, 이 부분을 일단 `recoil` 로 수정했습니다. 이는 정말 단순하게 보는 사람의 가독성을 위한 부분이었었는데요. 개인적으로 이번 프로젝트에서는 전역 상태관리라이브러리까지는 사용할 필요가 없다고 생각하여서 조금 과한 사용이 아니었나 싶기도 했지만 개인적으로 문제점이라고 생각했던 보는 사람들의 가독성 문제를 어느정도 해결할 수 있었습니다.

---

## 컴포넌트를 나누는 단계에 대한 고민

이 프로젝트를 마무리하면서 가장 많이 느꼈던 부분입니다. 저는 지금까지 컴포넌트를 조그맣게 나누는 것을 선호해 오고 있었습니다. 컴포넌트를 조그맣게 나누어, 최종 컴포넌트에서 간결하게 보이는 것이 `react` 의 기본적인 주안점이라고 생각했었기 때문입니다. 그런데, 이번 프로젝트를 진행하면서 특히 위의 3가지 리뷰 `form` 컴포넌트를 각기 두가지 이상으로 나누어 놓아서 오히려 데이터를 모으는 로직이 상대적으로 복잡해졌고 -하위 컴포넌트에서 상위로 올리는 로직이 또 필요해졌습니다. - 또 나누어놓은 조그만 컴포넌트는 다른 곳에서 쓰이고 있지 않았습니다. 이러한 과정을 진행하면서 컴포넌트를 조그맣게 나누는 특별한 이득이 없었는데 지금까지 왜 컴포넌트를 습관적을 조그맣게 나누고 있었는지에 대한 생각이 들었습니다. 만약, 재사용이 가능하던가 또는 `map` 메서드를 통해 반복해야 하는 부분이라면 컴포넌트를 나누는 것이 코드의 가독성 측면에서 좋았겠지만, 이러한 문제점을 느꼈던 부분에서는 재사용가능성이 없었고 `map` 메서드를 통해 반복문으로 컴포넌트를 렌더링하는 부분도 아니었기 때문입니다.

이러한 부분을 보면서, 결과적으로 오히려 컴포넌트를 조금 합치고 `recoil` 을 도입해 프로젝트를 마무리하기는 했지만 재사용을 할 가능성이 거의 없다는 점을 알고 있고, 그로 인해 불편한 점이 있다면 컴포넌트를 굳이 세세하게 나누어야할 필요가 있나라는 의문점이 들었습니다. 이 프로젝트 이후에, 진행하고 있는 다른 코드에서는 의도적으로 컴포넌트 단위를 너무 세세하게 잡고 있지 않습니다. 오히려 컴포넌트를 이전보다는 조금 더 큼지막하게 잡고, 동일한 계층의 다른 컴포넌트들과의 세세한 단계 -추상화 단계라고 하겠습니다- 를 맞추려고 노력하고 있는데 이렇게 한 후로 코드가 조금 더 깔끔해 보인다는 생각이 들었습니다. 아무래도, 하위단계에서 한번씩 올리는 단계가 줄어들고, `props` 로 내리는 단계가 줄어들어서 가능해진 부분이라고 생각이 드는데요. 그런데 이러한 점을 느꼈고 개선했지만 그럼에도 컴포넌트를 어느 단위로 나누는 것이 좋은가에 대해서는 여전히 고민중입니다.
